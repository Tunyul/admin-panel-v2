@tailwind base;
@tailwind components;
@tailwind utilities;

/* Theme variables (light + dark). Keep a single canonical set to avoid duplication. */
:root{
	--bg:#fbf9f7;
	--panel:#ffffff;
	--main-card-bg:var(--panel);
	--text:#0b2135;
	--muted:#576a7a;
	--accent:#3b82f6;
	--accent-2:#ffd166;
	--accent-rgb:59,130,246;
	--accent-2-rgb:255,209,102;
	--status-success:#34d399;
	--status-warning:#fbbf24;
	--text-rgb:11,33,53;
	--border-rgb:230,238,246;
	--bg-rgb:251,249,247;
	--border:#e6eef6;
	--input-bg:#ffffff;
	--placeholder:#9fb0bd;
	--icon:#2b3b46;
	--gradient:linear-gradient(90deg,#fff8ec 0%,#eef6ff 100%);
	--button-text:#081423;
	--header-bg:rgba(var(--bg-rgb),0.06);
	--header-height:64px;
	--sidebar-width:180px;
	--sidebar-collapsed-width:72px;
	--breakpoint-mobile:900px;
	--scroll-track:rgba(251,249,247,0.12);
	--scroll-track-color:rgba(251,249,247,0.12);
	--scroll-thumb:linear-gradient(180deg,rgba(30,64,175,0.28),rgba(204,140,15,0.26));
	--scroll-thumb-color:rgba(30,64,175,0.28);
}

.dark{
	--bg:#0f1724;
	--panel:#0f1724;
	--main-card-bg:#0f1724;
	--text:#e6eef8;
	--muted:#93a3c0;
	--accent:#60a5fa;
	--accent-2:#fde047;
	--text-rgb:230,238,248;
	--border:#374151;
	--border-rgb:55,65,81;
	--bg-rgb:15,23,36;
	--input-bg:#232946;
	--placeholder:#9aa6bf;
	--icon:#cbd5e1;
	--gradient:linear-gradient(90deg,rgba(var(--bg-rgb),0.06) 0%,rgba(var(--accent-rgb),0.06) 100%);
	--button-text:#0b1220;
	--scroll-track:rgba(15,23,36,0.12);
	--scroll-track-color:rgba(15,23,36,0.12);
	--scroll-thumb:linear-gradient(180deg,rgba(96,165,250,0.28),rgba(253,224,71,0.26));
	--scroll-thumb-color:rgba(96,165,250,0.28);
}

/* Reset / base rules */
*,*::before,*::after{box-sizing:border-box}
html,body,#root{height:100% !important}

body{
	background:var(--panel, #ffffff);
	min-height:100vh;
	overflow-x:hidden;
	margin:0;
	padding:0;
	color:var(--text, #0b2135);
	/* Use system default fonts only */
	font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

input,textarea,button,select{color:var(--text, #0b2135);font-family:inherit}
a{color:var(--accent, #3b82f6)}
input,textarea,select{background:var(--input-bg, #ffffff);color:var(--text, #0b2135);border:1px solid var(--border, #e6eef6);padding:.5rem .6rem;border-radius:8px;outline:0}
input::placeholder,textarea::placeholder{color:var(--placeholder, #9fb0bd)}
button:not(.MuiButton-root){background:var(--gradient, linear-gradient(90deg,#fff8ec 0%,#eef6ff 100%));color:var(--button-text, #081423);border:1px solid rgba(11,33,53,0.06);padding:.5rem .75rem;border-radius:8px;cursor:pointer;box-shadow:0 6px 18px rgba(11,33,53,0.06)}

/* MUI / component overrides */
.MuiAutocomplete-paper,.MuiAutocomplete-listbox{background:var(--panel) !important;color:var(--text) !important}
.MuiAutocomplete-listbox .MuiAutocomplete-option{color:var(--text) !important}
.MuiDialog-root .MuiAutocomplete-paper,.MuiDialog-root .MuiAutocomplete-listbox,.MuiDialog-root .MuiAutocomplete-option{background:var(--panel) !important;color:var(--text) !important}
.MuiAutocomplete-listbox .MuiAutocomplete-option.Mui-disabled{color:var(--muted) !important}

/* Fix Autocomplete dropdown in Dialog */
.MuiPopper-root[role="presentation"] {
  z-index: 1400 !important;
}

.MuiAutocomplete-popper {
  z-index: 1400 !important;
}

.MuiAutocomplete-paper {
  max-height: 200px !important;
  overflow-y: auto !important;
  min-width: 300px !important;
}

/* Ensure consistent chip colors across browsers */
.MuiChip-root {
  color: #ffffff !important;
}

.MuiChip-root.MuiChip-colorDefault {
  background-color: #6b7280 !important;
  color: #ffffff !important;
}

.MuiChip-root.MuiChip-colorPrimary {
  background-color: var(--accent, #3b82f6) !important;
  color: #ffffff !important;
}

.MuiChip-root.MuiChip-colorSecondary {
  background-color: var(--accent-2, #ffd166) !important;
  color: #000000 !important;
}

/* Force consistent status colors */
.MuiChip-root.status-chip-success {
	background-color: #16a34a !important;
	color: #ffffff !important;
}

.MuiChip-root.status-chip-error {
	background-color: #ef4444 !important;
	color: #ffffff !important;
}

.MuiChip-root.status-chip-warning {
	background-color: #f59e0b !important;
	color: #ffffff !important;
}

.MuiChip-root.status-chip-info {
	background-color: #3b82f6 !important;
	color: #ffffff !important;
}

/* Force consistent total amount colors */
.total-paid {
  color: #16a34a !important;
  font-weight: 600 !important;
}

.total-price {
  color: #3b82f6 !important;
  font-weight: 600 !important;
}

.MuiIconButton-root,.MuiIconButton-root button,button.MuiIconButton-root{background:transparent !important;box-shadow:none !important;border:none !important;padding:0 !important}
.MuiIconButton-root svg,.MuiIconButton-root .MuiSvgIcon-root{display:inline-block;vertical-align:middle}
svg{color:var(--icon);fill:currentColor}.MuiSvgIcon-root{color:var(--icon) !important}
.MuiButton-startIcon .MuiSvgIcon-root,.MuiButton-endIcon .MuiSvgIcon-root,.MuiListItemIcon-root .MuiSvgIcon-root{color:var(--icon) !important}
.MuiTypography-root,.MuiInputBase-root,.MuiFormLabel-root{color:var(--text) !important}
.MuiOutlinedInput-notchedOutline{border-color:var(--border) !important}
.MuiInputBase-root{background:var(--input-bg) !important}

.panel-gradient{background:var(--gradient)}
.MuiPaper-root:not(.MuiAlert-root):not(.MuiSnackbar-root),.card,.paper{background:var(--panel)}

/* Main card layout */
.main-card{background-color:var(--main-card-bg);border-radius:1rem;padding:1rem;box-shadow:0 6px 24px rgba(2,6,23,0.1);border:1px solid rgba(var(--text-rgb),0.14) !important;padding-bottom:0 !important;overflow:visible !important;min-height:0 !important;display:flex;flex-direction:column;height:auto;max-height:calc(100vh - var(--header-height) - 48px)}
.main-card .modal-scroll{overflow:auto !important;-webkit-overflow-scrolling:touch !important;max-height:calc(100vh - var(--header-height) - 140px);display:block;flex:1 1 auto !important;min-height:0 !important;height:auto !important}
.main-card .table-responsive{max-height:none !important}
.main-card .MuiBox-root,.main-card .MuiPaper-root,.main-card > div[class*="css-"]{height:auto !important;min-height:0 !important;max-height:none !important}
@media (max-width:900px){.main-card{max-height:calc(100vh - var(--header-height) - 24px)}.main-card .modal-scroll{max-height:calc(100vh - var(--header-height) - 96px)}}

/* Tables */
th,td{word-break:break-word;white-space:normal;vertical-align:middle}
/* Use consistent padding for table cells (matches MUI size="small") */
table tbody tr td, table thead tr th, .MuiTableCell-root {
	padding: 0.375rem 0.75rem; /* ~6px top/bottom, 12px left/right */
}
.table-compact tbody tr td, .table-compact thead tr th, .table-compact .MuiTableCell-root {
	padding: 0.25rem 0.5rem; /* tighter compact tables */
}
.card .table-responsive,.paper .table-responsive{box-shadow:0 6px 14px -10px rgba(2,6,23,0.12)}

/* Scrollbar styling */
::-webkit-scrollbar{width:10px;height:10px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:var(--scroll-thumb);border-radius:8px;box-shadow:0 0 8px rgba(var(--text-rgb),0.06)}
html:not(.dark) ::-webkit-scrollbar-track{background:rgba(var(--bg-rgb),0.12)}
.table-responsive{width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:thin;scrollbar-color:var(--scroll-thumb-color) var(--scroll-track-color)}
.table-responsive::-webkit-scrollbar{width:10px;height:10px}.table-responsive::-webkit-scrollbar-track{background:var(--scroll-track,transparent)}.table-responsive::-webkit-scrollbar-thumb{background:var(--scroll-thumb);border-radius:8px;box-shadow:0 0 8px rgba(var(--text-rgb),0.06)}

/* Layout helpers */
.app-frame{display:block;min-height:100vh}
:root{--sidebar-width:180px;--sidebar-collapsed-width:72px;--breakpoint-mobile:900px}
.app-sidebar{width:var(--sidebar-width);position:fixed;left:0;top:var(--header-height);height:calc(100vh - var(--header-height));box-sizing:border-box;display:flex;flex-direction:column;z-index:1100;transition:width 200ms ease,transform 180ms ease}
.app-main{box-sizing:border-box;margin-left:var(--sidebar-width);padding:calc(var(--header-height) + 24px) 24px 0 0;min-height:calc(100vh - var(--header-height));max-width:100vw;overflow-x:hidden;overflow-y:auto;background:transparent !important;background-color:transparent !important;color:var(--text) !important}

/* Dashboard-only extra right padding (desktop) */
.app-main.dashboard-page{padding-right:48px}
@media (max-width:900px){.app-main.dashboard-page{padding-right:12px}}
.app-sidebar.compact + .app-main,.app-main.compact{margin-left:var(--sidebar-collapsed-width)}
@media (max-width:900px){.app-sidebar{position:relative;width:100%;height:auto;top:0}.app-main{margin-left:0;padding:12px}}
.app-sidebar.compact{width:var(--sidebar-collapsed-width)}
.app-sidebar .modal-scroll{overflow-y:auto;max-height:calc(100vh - var(--header-height) - 16px)}
.app-sidebar{width:var(--sidebar-width);position:fixed;top:var(--header-height);left:0;height:calc(100vh - var(--header-height));z-index:1100}

.app-header{background:transparent !important;background-color:transparent !important;color:var(--text) !important;border-bottom:none !important;box-shadow:none !important;border-radius:0 !important}
/* Ensure MUI Paper used for header is not rounded */
.MuiPaper-root.app-header,.css-jj1mtj-MuiPaper-root{border-radius:0 !important}
.app-sidebar{background:transparent !important;background-color:transparent !important;color:var(--text) !important;border-right:none !important;box-shadow:none !important}
.app-sidebar,.app-sidebar *{color:var(--text) !important}
@media (max-width:900px){.app-header{position:relative}.app-sidebar{box-shadow:none;border-right:none}}
.app-sidebar .MuiList-root,.app-sidebar .modal-scroll{padding-top:0 !important}

.always-scroll{scrollbar-width:auto;scrollbar-color:var(--scroll-thumb-color,rgba(0,0,0,0.18)) var(--scroll-track-color,transparent);-webkit-overflow-scrolling:touch;scrollbar-gutter:stable both-edges}
.always-scroll::-webkit-scrollbar{width:16px;height:16px}.always-scroll::-webkit-scrollbar-track{background:var(--scroll-track,rgba(0,0,0,0.03));border-radius:12px}.always-scroll::-webkit-scrollbar-thumb{background:var(--scroll-thumb,rgba(255,255,255,0.14));border-radius:10px;border:4px solid transparent;background-clip:padding-box}.always-scroll::-webkit-scrollbar-corner{background:transparent}
:root{--scroll-track:rgba(251,249,247,0.12);--scroll-track-color:rgba(251,249,247,0.12);--scroll-thumb:linear-gradient(180deg,rgba(30,64,175,0.28),rgba(204,140,15,0.26));--scroll-thumb-color:rgba(30,64,175,0.28)}
.dark{--scroll-track:rgb(25, 0, 255);--scroll-track-color:rgb(31, 255, 1);--scroll-thumb:linear-gradient(120deg,rgba(98, 0, 255,0.28),rgba(200,255,0,0.884));--scroll-thumb-color:rgb(255,0,0)}
.modal-scroll::-webkit-scrollbar{width:10px;height:10px}.modal-scroll::-webkit-scrollbar-track{background:var(--scroll-track,transparent)}.modal-scroll::-webkit-scrollbar-thumb{background:var(--scroll-thumb,linear-gradient(120deg,rgba(255,209,102,0.22),rgba(59,130,246,0.22)));border-radius:8px;box-shadow:0 0 8px rgba(var(--text-rgb),0.06)}.modal-scroll::-webkit-scrollbar-thumb:hover{background:var(--scroll-thumb,linear-gradient(120deg,rgba(255,209,102,0.36),rgba(59,130,246,0.36)))}

.table-bottom-space{height:0 !important}
.payments-page{background:var(--panel) !important}

/* Responsive center container: height follows viewport but stays within sensible bounds */
/* Removed css-jk78m6 rules — LayoutContent no longer injects the centered Box wrapper */

.payments-page .main-card{background:transparent !important;box-shadow:none !important;border:none !important;border-radius:0 !important;padding:0 !important}
.css-seqwlu{width:100%;padding:0 !important}

/* Fix double scrollbars in Material-UI components */
.MuiAutocomplete-listbox {
  /* Prevent double scrollbars in Autocomplete dropdowns */
  scrollbar-width: thin;
  scrollbar-color: rgba(0,0,0,0.2) transparent;
}

.MuiAutocomplete-paper {
  /* Ensure the paper doesn't have its own scrollbars */
  overflow: visible !important;
}

.MuiMenu-list, .MuiSelect-menu {
  /* Fix scrollbars in Select dropdowns */
  scrollbar-width: thin;
  scrollbar-color: rgba(0,0,0,0.2) transparent;
}

.MuiMenu-list::-webkit-scrollbar, .MuiSelect-menu::-webkit-scrollbar {
  width: 8px;
}

.MuiMenu-list::-webkit-scrollbar-track, .MuiSelect-menu::-webkit-scrollbar-track {
  background: transparent;
}

.MuiMenu-list::-webkit-scrollbar-thumb, .MuiSelect-menu::-webkit-scrollbar-thumb {
  background: rgba(0,0,0,0.2);
  border-radius: 4px;
}

.MuiMenu-list::-webkit-scrollbar-thumb:hover, .MuiSelect-menu::-webkit-scrollbar-thumb:hover {
  background: rgba(0,0,0,0.3);
}

html,body,#root{height:100% !important}
.payments-page{background:var(--panel) !important}
